<!--Search-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Location Review</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places" defer></script>
</head>
<body class="bg-gray-100">

    <!-- Navigation Bar -->
    <nav class="bg-blue-500 p-4">
        <div class="container mx-auto flex justify-between items-center">
            <a href="/" class="text-white text-2xl font-bold">Rate My Manager</a>

            <!-- Navigation Links -->
            <div class="space-x-4">
                <a href="/signup" class="text-white hover:text-gray-200">Sign Up</a>
                <a href="/login" class="text-white hover:text-gray-200">Login</a>
                <a href="/recent-reviews" class="text-white hover:text-gray-200">Reviews</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg">
        <h1 class="text-6xl font-bold mb-6">Location Review</h1>
        
        <!-- Location Search -->
        <div class="mt-6">
            <label for="locationSearch" class="text-xl text-gray-800">Search Location:</label>
            <input type="text" id="locationSearch" class="w-full p-2 border rounded-md">
        </div>

        <!-- Map Container -->
        <div id="map" class="mt-8 h-64"></div>

        <!-- Recent Reviews -->
        <div class="mt-10">
            <h2 class="text-4xl font-bold mb-4">Recent Reviews</h2>
            <form id="ratingForm">
                <!-- Star Rating -->
                <div class="mb-4">
                    <label for="rating" class="text-xl text-gray-800">Rating:</label>
                    <div class="flex items-center mt-2">
                        <input type="hidden" id="rating" name="rating" value="0">
                        <span class="cursor-pointer text-2xl" onclick="setRating(1)">&#9733;</span>
                        <span class="cursor-pointer text-2xl" onclick="setRating(2)">&#9733;</span>
                        <span class="cursor-pointer text-2xl" onclick="setRating(3)">&#9733;</span>
                        <span class="cursor-pointer text-2xl" onclick="setRating(4)">&#9733;</span>
                        <span class="cursor-pointer text-2xl" onclick="setRating(5)">&#9733;</span>
                    </div>
                </div>

                <!-- Manager's Name -->
                <div class="mb-4">
                    <label for="managerName" class="text-xl text-gray-800">Manager's Name:</label>
                    <input type="text" id="managerName" name="managerName" class="w-full p-2 border rounded-md">
                </div>

                <!-- User's Name -->
                <div class="mb-4">
                    <label for="userName" class="text-xl text-gray-800">Your Name:</label>
                    <input type="text" id="userName" name="userName" class="w-full p-2 border rounded-md">
                </div>

                <!-- Comments -->
                <label for="comments" class="text-xl text-gray-800">Comments:</label>
                <textarea id="comments" name="comments" rows="4" class="w-full p-2 border rounded-md mb-4"></textarea>

                <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Submit Review</button>
            </form>
        </div>
    </div>

    <!-- JavaScript to handle star rating -->
    <script>
        function setRating(rating) {
            document.getElementById('rating').value = rating;
            // Highlight the selected stars
            for (let i = 1; i <= 5; i++) {
                const star = document.querySelector(`#ratingForm span:nth-child(${i})`);
                if (i <= rating) {
                    star.classList.add('text-yellow-500');
                } else {
                    star.classList.remove('text-yellow-500');
                }
            }
        }
    </script>

    <!-- JavaScript to initialize the map on page load -->
    <script>
        let map;
        let marker;

        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 0, lng: 0 },
                zoom: 10,
            });

            const autocomplete = new google.maps.places.Autocomplete(
                document.getElementById('locationSearch'),
                { types: ['geocode'] }
            );

            autocomplete.addListener('place_changed', function () {
                const place = autocomplete.getPlace();
                if (place.geometry) {
                    map.panTo(place.geometry.location);
                    map.setZoom(15);

                    if (marker) {
                        marker.setMap(null);
                    }
                    marker = new google.maps.Marker({
                        position: place.geometry.location,
                        map: map,
                        title: place.name,
                    });
                }
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            initMap();
        });
    </script>

</body>
</html>
